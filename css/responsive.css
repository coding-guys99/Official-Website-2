/* =========================================================
   KeySearch - responsive.css
   只做「覆蓋與收斂」，不改動原 token。依斷點由大到小調整。
   斷點：1200 / 980 / 820 / 640 / 420
   ========================================================= */

/* ========== 全域微調 ========== */
:root {
  /* 可視字級縮放係數（手機稍微放大行距/字級的感覺） */
  --ks-h1: clamp(1.9rem, 6vw, 3rem);
  --ks-h2: clamp(1.3rem, 4.2vw, 2.0rem);
  --ks-body: clamp(0.95rem, 3.6vw, 1rem);
}
html, body { font-size: var(--ks-body); }

/* 通用容器邊距：縮小時加大左右內距，避免邊緣貼齊 */
.container { padding-left: 20px; padding-right: 20px; }

/* 讓所有圖片在小裝置不超出容器 */
img { max-width: 100%; height: auto; }

/* ========== Header 導航 ========== */
/* 桌面維持你原樣式；到 980 以下切換為行動選單 */
@media (max-width: 980px){
  .nav { grid-template-columns: auto auto 1fr; height: 64px; }
  .nav-actions { gap: 10px; }

  /* 顯示漢堡按鈕（若你已有 .nav-toggle，這裡保守處理） */
  .nav-toggle { display:inline-flex; align-items:center; justify-content:center;
    width:38px; height:38px; border:1px solid var(--border); border-radius:8px;
    background:transparent; color:var(--fg); cursor:pointer;
  }

  /* 導覽改為覆蓋式抽屜 */
  .nav-links{
    display:none;
    position: fixed; inset: 64px 0 0 0; /* header 下方全寬 */
    background: #0d0d0d; border-top:1px solid var(--border);
    padding: 16px 24px 24px; z-index: 1000;
    flex-direction: column; gap: 14px;
  }
  .nav-links.open{ display:flex; }

  .nav-links a{
    font-size: 1.05rem; padding: 8px 0;
  }

  /* 語言選單跟著 header 置頂，避免溢出 */
  .lang-dropdown { position: static; }
  .lang-menu{
    position: fixed; right: 16px; top: 72px;
    min-width: 240px;
  }
}

/* ========== Hero（首頁） ========== */
.hero{
  padding: min(8vh, 80px) 20px min(6vh, 60px);
  gap: 28px;
}
.hero-text h1{
  font-size: var(--ks-h1);
}
.hero-text .sub{
  font-size: 1.05rem;
}
.hero-img img{ border-radius: var(--radius); }

/* 980 以下：改單欄、圖置頂、文置下（避免滾動太多才看到圖） */
@media (max-width: 980px){
  .hero{ grid-template-columns: 1fr; text-align: center; }
  .hero-img{ order: -1; }
  .hero .actions{ justify-content: center; }
}

/* ========== Features 區塊（首頁） ========== */
.feature{
  grid-template-columns: 1fr 1fr;
  gap: 32px; padding: 60px 20px; border-bottom: 1px solid var(--border);
}
.feature-text h2{ font-size: var(--ks-h2); }
.feature-text p{ font-size: 1rem; }

@media (max-width: 980px){
  .feature{ grid-template-columns: 1fr; text-align: center; }
  .feature.reverse{ direction: ltr; text-align: center; }
  .feature-img{ order: -1; }
}

/* 16:9 視窗 mock / screenshot 容器在手機縮放更柔和 */
.device-mock { transform-style: preserve-3d; }
@media (max-width: 980px){
  .device-mock { margin: 0 auto; max-width: 680px; }
}
@media (max-width: 640px){
  .device-mock { max-width: 520px; }
}
@media (max-width: 420px){
  .device-mock { max-width: 100%; }
}

/* ========== 共用 page-hero（子頁） ========== */
.page-hero{
  padding: 60px 20px 30px; text-align: center;
}
.page-hero h1{
  font-size: var(--ks-h1);
}
.page-hero .lead{ font-size: 1rem; }

/* ========== Features（features.html 卡片格） ========== */
.features-grid{
  grid-template-columns: repeat(auto-fit,minmax(220px,1fr));
  gap: 20px; padding: 28px 0 60px;
}
@media (max-width: 820px){
  .features-grid{ grid-template-columns: repeat(2,1fr); }
}
@media (max-width: 480px){
  .features-grid{ grid-template-columns: 1fr; }
}

/* ========== Pricing ========== */
.pricing-grid{
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px; padding: 28px 0 10px; text-align: center;
}
.price-card{ padding: 26px 18px; }
.price-card .price{ font-size: clamp(1.6rem, 6vw, 2rem); }

/* toggle 區塊置中 */
@media (max-width: 980px){
  .pricing-toggle{ text-align: center; }
}

/* ========== Support（FAQ + 表單 + Donate） ========== */
.support-quick{
  gap: 10px; justify-content: center;
}
.faq-item{ margin: 10px 0; }
.feedback-form{
  display: grid; gap: 12px; max-width: 720px; margin: 16px auto;
}
.feedback-form .row2{
  grid-template-columns: 1fr 1fr; gap: 12px;
}
@media (max-width: 820px){
  .feedback-form .row2{ grid-template-columns: 1fr; }
}
.feedback-form input, .feedback-form select, .feedback-form textarea{
  font-size: 1rem;
}
.donate-card{ padding: 22px; }

/* ========== News ========== */
.news-grid{
  grid-template-columns: repeat(auto-fit, minmax(260px,1fr));
  gap: 16px; padding: 20px 20px 60px;
}
.news-card{ padding: 18px; }
.news-card h2{ font-size: 1.05rem; }

/* ========== Footer ========== */
.bm-footer-top{
  grid-template-columns: repeat(5, minmax(160px, 1fr));
  gap: 24px 36px; padding: 36px 0;
}
@media (max-width: 1024px){
  .bm-footer-top{ grid-template-columns: repeat(3, minmax(160px, 1fr)); }
}
@media (max-width: 720px){
  .bm-footer-top{ grid-template-columns: 1fr 1fr; }
}
@media (max-width: 520px){
  .bm-footer-top{ grid-template-columns: 1fr; text-align: center; }
  .bm-foot-brand .tagline{ max-width: 28ch; margin-left:auto; margin-right:auto; }
}

/* ========== 語言下拉（多欄） ========== */
.lang-menu{
  /* 兩欄網格：避免長長一條，也不需要滾動條 */
  display: none;
  grid-template-columns: repeat(2, minmax(100px, 1fr));
  gap: 6px 16px;
  min-width: 240px;
  max-height: none;
  overflow: visible;
  padding: 10px;
}
.lang-menu.open{ display: grid; }
.lang-menu li{ white-space: nowrap; }
@media (max-width: 420px){
  .lang-menu{ grid-template-columns: 1fr; min-width: 200px; }
}

/* ========== 按鈕在手機更好點 ========== */
.btn{ padding: 12px 16px; }
@media (max-width: 420px){
  .actions .btn{ width: 100%; }
}

/* ========== 表格（若有） ========== */
.table-responsive{
  width: 100%; overflow-x: auto; border:1px solid var(--border);
  border-radius: 8px; -webkit-overflow-scrolling: touch;
}
.table-responsive table{ width: 100%; border-collapse: collapse; }
.table-responsive th, .table-responsive td{ padding: 10px 12px; }

/* ========== 細節：避免小裝置 headings 太擠 ========== */
h1,h2,h3{ line-height: 1.25; word-break: break-word; }

/* ---- Force footer to stack on small screens ---- */
/* 先在 1024px 以下切 3 欄，再更小改 2 欄、1 欄 */
@media (max-width: 1024px){
  .bm-footer .bm-footer-top{ 
    grid-template-columns: repeat(3, minmax(160px,1fr)) !important;
    gap: 24px 36px !important;
  }
}

/* 手機橫向／中小尺寸：2 欄 */
@media (max-width: 720px){
  .bm-footer .bm-footer-top{ 
    grid-template-columns: 1fr 1fr !important;
  }
}

/* 手機直向：單欄置中 */
@media (max-width: 520px){
  .bm-footer .bm-footer-top{ 
    grid-template-columns: 1fr !important;
    text-align: center !important;
  }
  /* 內文置中更好看 */
  .bm-foot-brand .tagline{ 
    max-width: 28ch; 
    margin-left:auto; 
    margin-right:auto; 
  }
  /* 若你的 links 容器是 display: contents; 也沒關係
     這裡補一手讓小尺寸時能自己排版 */
  .bm-foot-links-grid{
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 10px 0 !important;
  }
}

/* 保險：有些頁可能用了更高權重選擇器，這裡再限縮一次 */
@media (max-width: 520px){
  footer.bm-footer .container .bm-footer-top{
    grid-template-columns: 1fr !important;
  }
}

/* ========= responsive.css ========= */

/* < 980px：Header 折疊、Hero/Feature 單欄 */
@media (max-width: 980px){

  /* Header：中間選單折疊 */
  .bm-header .nav{
    grid-template-columns: auto auto 1fr;
  }

  .bm-header .nav-links{
    display: none; /* 預設關閉 */
  }
  .bm-header .nav-links.open{
    display: flex;               /* 打開時顯示 */
    flex-direction: column;
    gap: 16px;
    position: absolute;
    top: 72px; left: 0; right: 0;
    background: #0d0d0d;
    border-top: 1px solid rgba(255,255,255,.06);
    padding: 18px 24px 22px;
    z-index: 1000;
  }
  .bm-header .nav-toggle{ display:block; }

  /* Hero/Feature 單欄、置中 */
  .hero, .feature{
    grid-template-columns: 1fr !important;
    text-align: center;
    padding: 60px 20px;
  }
  .hero-img, .feature-img{ order: -1; }
  .hero .btns, .feature .feature-text{ justify-content:center; }

  .cta{ text-align:center; padding:64px 20px; }
}

/* < 900px：Footer 直排 + 置中 */
@media (max-width: 900px){
  .bm-footer-top{
    display: grid !important;
    grid-template-columns: 1fr !important;
    gap: 18px !important;
    text-align: center !important;
  }
  .bm-foot-links{ justify-content:center; flex-wrap:wrap; }
  .bm-foot-actions{ justify-content:center; }
  .bm-foot-brand .tagline{ max-width: 26ch; margin-left:auto; margin-right:auto; }

  .bm-footer-bottom{
    flex-direction: column !important;
    gap: 8px;
    text-align: center;
  }
}

/* < 600px：更緊湊 */
@media (max-width: 600px){
  .nav{ height: 64px; }
  .brand img{ width:24px; height:24px; }

  .hero{ padding: 48px 16px; }
  .hero-text h1{ font-size: clamp(1.9rem, 7vw, 2.6rem); }
  .hero-text .sub{ font-size: 1rem; }

  .feature{ padding: 40px 16px; }
  .bm-footer-top{ padding: 28px 0 !important; }
}